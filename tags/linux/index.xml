<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Linux on N10-Blog</title><link>https://n10dz.github.io/tags/linux/</link><description>Recent content in Linux on N10-Blog</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><copyright>è¾½è¥¿è‚å¾·ä½</copyright><lastBuildDate>Mon, 05 May 2025 19:38:49 +0800</lastBuildDate><atom:link href="https://n10dz.github.io/tags/linux/index.xml" rel="self" type="application/rss+xml"/><item><title>è§£å†³å›½äº§ä¿¡åˆ›Linuxç³»ç»ŸDNSæœåŠ¡å™¨è¢«å¼ºåˆ¶è®¾ç½®ä¸º`127.0.0.53`é—®é¢˜</title><link>https://n10dz.github.io/p/%E8%A7%A3%E5%86%B3%E5%9B%BD%E4%BA%A7%E4%BF%A1%E5%88%9Blinux%E7%B3%BB%E7%BB%9Fdns%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%A2%AB%E5%BC%BA%E5%88%B6%E8%AE%BE%E7%BD%AE%E4%B8%BA127.0.0.53%E9%97%AE%E9%A2%98/</link><pubDate>Thu, 20 Mar 2025 16:45:00 +0800</pubDate><guid>https://n10dz.github.io/p/%E8%A7%A3%E5%86%B3%E5%9B%BD%E4%BA%A7%E4%BF%A1%E5%88%9Blinux%E7%B3%BB%E7%BB%9Fdns%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%A2%AB%E5%BC%BA%E5%88%B6%E8%AE%BE%E7%BD%AE%E4%B8%BA127.0.0.53%E9%97%AE%E9%A2%98/</guid><description>&lt;p>æœ¬æ–‡é’ˆå¯¹éº’éºŸã€ç»Ÿä¿¡UOSã€Ubuntuç­‰Linuxå‘è¡Œç‰ˆä¸­å‡ºç°çš„&lt;code>/etc/resolv.conf&lt;/code>æ–‡ä»¶è¢«å¼ºåˆ¶é‡ç½®ä¸º&lt;code>127.0.0.53&lt;/code>é—®é¢˜ï¼Œæä¾›ä¸¤ç§è§£å†³æ–¹æ¡ˆã€‚&lt;/p>
&lt;h2 id="é—®é¢˜ç°è±¡">é—®é¢˜ç°è±¡
&lt;/h2>&lt;ul>
&lt;li>éº’éºŸç³»ç»Ÿæ— æ³•ä¸Šç½‘ï¼Œæ‰“ä¸å¼€ç½‘é¡µã€‚&lt;/li>
&lt;li>æ‰‹åŠ¨ä¿®æ”¹&lt;code>/etc/resolv.conf&lt;/code>åï¼Œé‡å¯ç³»ç»Ÿæˆ–ç½‘ç»œæœåŠ¡æ—¶é…ç½®è¢«è¦†ç›–ã€‚&lt;/li>
&lt;li>DNSæœåŠ¡å™¨è¢«å¼ºåˆ¶è®¾ç½®ä¸º&lt;code>127.0.0.53&lt;/code>ï¼ˆsystemd-resolvedæœåŠ¡åœ°å€ï¼‰ã€‚&lt;/li>
&lt;/ul>
&lt;h2 id="è§£å†³æ–¹æ¡ˆ">è§£å†³æ–¹æ¡ˆ
&lt;/h2>&lt;h3 id="ä¸€ä¸´æ—¶ä¿®æ”¹dnsé‡å¯åå¤±æ•ˆ">ä¸€ï¼šä¸´æ—¶ä¿®æ”¹DNSï¼ˆé‡å¯åå¤±æ•ˆï¼‰
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ç¼–è¾‘DNSé…ç½®æ–‡ä»¶&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo vim /etc/resolv.conf
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æ›¿æ¢ä¸ºä»¥ä¸‹å†…å®¹ï¼ˆç¤ºä¾‹ä½¿ç”¨Google DNSï¼‰&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">nameserver 8.8.8.8
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">nameserver 8.8.4.4
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="äºŒæ°¸ä¹…è§£å†³æ–¹æ¡ˆæ¨è">äºŒï¼šæ°¸ä¹…è§£å†³æ–¹æ¡ˆï¼ˆæ¨èï¼‰
&lt;/h3>&lt;h4 id="æ­¥éª¤1åœç”¨systemd-resolvedæœåŠ¡">æ­¥éª¤1ï¼šåœç”¨systemd-resolvedæœåŠ¡
&lt;/h4>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo systemctl stop systemd-resolved
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo systemctl disable systemd-resolved
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="æ­¥éª¤2å®‰è£…unboundè§£æå™¨">æ­¥éª¤2ï¼šå®‰è£…unboundè§£æå™¨
&lt;/h4>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo apt update &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> sudo apt install unbound -y
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="æ­¥éª¤3é…ç½®networkmanager">æ­¥éª¤3ï¼šé…ç½®NetworkManager
&lt;/h4>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo vim /etc/NetworkManager/NetworkManager.conf
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#åœ¨ [main] æ®µè½æ·»åŠ é…ç½®ï¼š&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ini
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">dns&lt;/span>&lt;span class="o">=&lt;/span>unbound
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="æ­¥éª¤4åº”ç”¨é…ç½®">æ­¥éª¤4ï¼šåº”ç”¨é…ç½®
&lt;/h4>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo systemctl restart NetworkManager
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="éªŒè¯ç»“æœ">éªŒè¯ç»“æœ
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">cat /etc/resolv.conf &lt;span class="c1"># åº”æ˜¾ç¤ºå®é™…é…ç½®çš„DNSæœåŠ¡å™¨&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ping baidu.com &lt;span class="c1"># æµ‹è¯•ç½‘ç»œè¿é€šæ€§&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="æŠ€æœ¯åŸç†">ğŸ“ŒæŠ€æœ¯åŸç†
&lt;/h3>&lt;p>systemd-resolved æ˜¯æ–°ä¸€ä»£DNSè§£ææœåŠ¡ï¼Œä¼šå¼ºåˆ¶æ¥ç®¡DNSé…ç½®ã€‚æœ¬æ–¹æ¡ˆé€šè¿‡ï¼š&lt;/p>
&lt;ol>
&lt;li>ç”¨unboundæ›¿ä»£é»˜è®¤è§£æå™¨&lt;/li>
&lt;li>ä¿®æ”¹NetworkManagerçš„DNSç®¡ç†ç­–ç•¥&lt;/li>
&lt;li>å»ºç«‹ç¨³å®šçš„DNSé…ç½®æ‰˜ç®¡æœºåˆ¶&lt;/li>
&lt;/ol>
&lt;h3 id="æ•…éšœæ’æŸ¥">æ•…éšœæ’æŸ¥
&lt;/h3>&lt;h4 id="å¦‚é‡ç½‘ç»œå¼‚å¸¸å¯é€šè¿‡ä»¥ä¸‹å‘½ä»¤æ¢å¤">å¦‚é‡ç½‘ç»œå¼‚å¸¸ï¼Œå¯é€šè¿‡ä»¥ä¸‹å‘½ä»¤æ¢å¤ï¼š
&lt;/h4>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo systemctl &lt;span class="nb">enable&lt;/span> systemd-resolved --now
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo rm /etc/NetworkManager/conf.d/dns.conf
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>æœ¬æ–‡é€‚ç”¨äºä»¥ä¸‹å›½äº§ä¿¡åˆ›ç³»ç»Ÿï¼š
éº’éºŸKylin V10
ç»Ÿä¿¡UOS 20
Ubuntu 18.04+/Debian 10+&lt;/p>&lt;/blockquote></description></item></channel></rss>